{"version":3,"file":"444.itkVtkViewer.js","mappings":"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","sources":["webpack://itk-vtk-viewer/webpack/runtime/chunk loaded","webpack://itk-vtk-viewer/webpack/runtime/startup chunk dependencies","webpack://itk-vtk-viewer/./src/IO/Analyze/createRangeHelper.js","webpack://itk-vtk-viewer/./src/IO/Analyze/computeRanges.js","webpack://itk-vtk-viewer/./src/IO/Analyze/webWorkerPromiseWorkerPool.js","webpack://itk-vtk-viewer/./src/IO/itkWasmUtils.js","webpack://itk-vtk-viewer/./src/IO/Compare/createCompareImage.js","webpack://itk-vtk-viewer/./src/IO/ResampleLabelImage/resampleLabelImage.js","webpack://itk-vtk-viewer/./src/internalUtils.js","webpack://itk-vtk-viewer/./src/IO/composeComponents.js","webpack://itk-vtk-viewer/./src/Rendering/VTKJS/Images/ComposeImage.worker.js","webpack://itk-vtk-viewer/./src/itkConfig.js","webpack://itk-vtk-viewer/webpack/bootstrap","webpack://itk-vtk-viewer/webpack/runtime/amd define","webpack://itk-vtk-viewer/webpack/runtime/amd options","webpack://itk-vtk-viewer/webpack/runtime/compat get default export","webpack://itk-vtk-viewer/webpack/runtime/define property getters","webpack://itk-vtk-viewer/webpack/runtime/ensure chunk","webpack://itk-vtk-viewer/webpack/runtime/get javascript chunk filename","webpack://itk-vtk-viewer/webpack/runtime/global","webpack://itk-vtk-viewer/webpack/runtime/hasOwnProperty shorthand","webpack://itk-vtk-viewer/webpack/runtime/node module decorator","webpack://itk-vtk-viewer/webpack/runtime/publicPath","webpack://itk-vtk-viewer/webpack/runtime/importScripts chunk loading","webpack://itk-vtk-viewer/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn Promise.all([480,159,774].map(__webpack_require__.e, __webpack_require__)).then(next);\n};","export function createRangeHelper() {\n  let min = Number.POSITIVE_INFINITY\n  let max = Number.NEGATIVE_INFINITY\n\n  return {\n    add(value) {\n      if (min > value) {\n        min = value\n      }\n      if (max < value) {\n        max = value\n      }\n    },\n    getRange() {\n      return { min, max }\n    },\n  }\n}\n","import webWorkerPromiseWorkerPool from './webWorkerPromiseWorkerPool'\nimport { createRangeHelper } from './createRangeHelper'\n\nconst haveSharedArrayBuffer = typeof globalThis.SharedArrayBuffer === 'function'\n\nconst numberOfWorkers = navigator.hardwareConcurrency\n  ? Math.min(navigator.hardwareConcurrency, 8)\n  : 4\n\nconst computeRangeWorkerPool = webWorkerPromiseWorkerPool(\n  numberOfWorkers,\n  () =>\n    new Worker(new URL('./ComputeRanges.worker.js', import.meta.url), {\n      type: 'module',\n    }),\n  'computeRanges'\n)\n\nexport async function computeRanges(values, numberOfComponents = 1) {\n  const numberOfSplits = numberOfWorkers\n\n  const taskArgs = new Array(numberOfSplits)\n  if (haveSharedArrayBuffer && values.buffer instanceof SharedArrayBuffer) {\n    for (let split = 0; split < numberOfSplits; split++) {\n      taskArgs[split] = [\n        {\n          split,\n          numberOfSplits,\n          values,\n          numberOfComponents,\n        },\n      ]\n    }\n  } else {\n    let arrayStride = Math.floor(values.length / numberOfSplits) || 1\n    arrayStride += arrayStride % numberOfComponents\n    let arrayIndex = 0\n    for (let split = 0; split < numberOfSplits; split++) {\n      const arrayStart = arrayIndex\n      const arrayEnd = Math.min(arrayIndex + arrayStride, values.length - 1)\n      const subArray = values.slice(arrayStart, arrayEnd + 1)\n      taskArgs[split] = [\n        {\n          split: 0, // 0 because array already split\n          numberOfSplits: 1,\n          values: subArray,\n          numberOfComponents,\n        },\n        [subArray.buffer],\n      ]\n      arrayIndex += arrayStride\n    }\n  }\n\n  const rangesBySplit = await computeRangeWorkerPool.runTasks(taskArgs).promise\n\n  const helpers = [...Array(numberOfComponents)].map(createRangeHelper)\n  rangesBySplit.forEach(({ result: ranges }) => {\n    ranges.forEach(({ min, max }, compIdx) => {\n      helpers[compIdx].add(min)\n      helpers[compIdx].add(max)\n    })\n  })\n\n  return helpers.map(h => h.getRange())\n}\n","import { WorkerPool } from 'itk-wasm'\n\nimport WebworkerPromise from 'webworker-promise'\n\nfunction webWorkerPromiseWorkerPool(\n  numberOfWorkers,\n  makeWorker,\n  operationName\n) {\n  const createWorker = existingWorker => {\n    const worker = existingWorker ?? makeWorker()\n    const webWorkerPromise = new WebworkerPromise(worker)\n    return { webWorkerPromise, worker }\n  }\n\n  const compute = async (webWorker, ...args) => {\n    const { webWorkerPromise, worker } = createWorker(webWorker)\n    const result = await webWorkerPromise.exec(operationName, ...args)\n    return { result, webWorker: worker }\n  }\n\n  const workerPool = new WorkerPool(numberOfWorkers, compute)\n\n  return workerPool\n}\n\nexport default webWorkerPromiseWorkerPool\n","import {\n  runPipeline,\n  InterfaceTypes,\n  imageSharedBufferOrCopy,\n  WorkerPool,\n  stackImages,\n} from 'itk-wasm'\n\nimport itkConfig from '../itkConfig.js'\n\nexport async function runWasm({\n  pipeline,\n  args,\n  images,\n  outputs = [{ type: InterfaceTypes.Image }],\n  maxSplits = 4, // avoid out of memory errors with larger images\n}) {\n  const { pipelinesUrl, pipelineWorkerUrl } = itkConfig\n\n  // remove blob:http://... added to __webpack_public_path__ in webworker\n  const pipelinesUrlNoBlob = pipelinesUrl.startsWith('blob:')\n    ? pipelinesUrl.substring(5)\n    : pipelinesUrl\n  // prepend base to URL string for tests to run\n  itkConfig.pipelinesUrl = new URL(\n    pipelinesUrlNoBlob,\n    self.location.origin\n  ).href\n\n  const pipelinesWorkerUrlNoBlob = pipelineWorkerUrl.startsWith('blob:')\n    ? pipelineWorkerUrl.substring(5)\n    : pipelineWorkerUrl\n  itkConfig.pipelineWorkerUrl = new URL(\n    pipelinesWorkerUrlNoBlob,\n    self.location.origin\n  ).href\n\n  const numberOfWorkers = navigator.hardwareConcurrency || 6\n\n  const aImage = images[0]\n  const splits = Math.min(\n    parseInt(numberOfWorkers / 2),\n    Math.max(aImage.size[aImage.size.length - 1], 1),\n    maxSplits\n  )\n\n  const tasks = [...Array(splits).keys()].map(split => {\n    const taskArgs = [\n      ...[...Array(images.length).keys()].map(num => num.toString()),\n      '0',\n      ...args.map(o => o.toString()),\n      '--max-total-splits',\n      '' + splits,\n      '--split',\n      '' + split,\n      '--number-of-splits',\n      '' + splits,\n      '--memory-io',\n    ]\n\n    const inputs = images.map(image => ({\n      type: InterfaceTypes.Image,\n      data: imageSharedBufferOrCopy(image),\n    }))\n\n    return [pipeline, taskArgs, outputs, inputs]\n  })\n\n  const workerPool = new WorkerPool(numberOfWorkers, runPipeline)\n  const results = await workerPool.runTasks(tasks).promise\n  workerPool.terminateWorkers()\n  const validResults = results.filter(r => r.returnValue === 0)\n  const imageSplits = validResults.map(({ outputs }) => outputs[0].data)\n\n  return stackImages(imageSplits)\n}\n","import { runWasm } from '../itkWasmUtils.js'\n\nexport async function createCompareImage(\n  movingImage,\n  fixedImage,\n  { minMax, checkerboard, pattern = undefined }\n) {\n  const clampedPattern = pattern\n    ? fixedImage.size.map((s, idx) => Math.min(s, pattern[idx]))\n    : []\n  const args = [\n    '--checkerboard',\n    checkerboard.toString(),\n    '--range',\n    minMax.join(','),\n    '--pattern',\n    clampedPattern.join(','),\n  ]\n\n  const image = await runWasm({\n    pipeline: 'Compare',\n    args,\n    images: [movingImage, fixedImage],\n    maxSplits: 1,\n  })\n  image.ranges = [minMax, minMax]\n\n  return image\n}\n","import { arraysEqual } from '../../internalUtils.js'\nimport { runWasm } from '../itkWasmUtils.js'\n\nexport async function resampleLabelImage(image, labelImage) {\n  const { size, spacing, origin, direction } = image\n  const args = [\n    '--size',\n    size.join(','),\n    '--spacing',\n    spacing.join(','),\n    '--origin',\n    origin.join(','),\n    '--direction',\n    direction.join(','),\n  ]\n\n  return runWasm({ pipeline: 'ResampleLabelImage', args, images: [labelImage] })\n}\n\nexport function compareImageSpaces(imageA, imageB) {\n  const equalKeys = ['size', 'direction', 'origin', 'spacing'].map(key =>\n    arraysEqual(imageA[key], imageB[key])\n  )\n  return equalKeys.every(b => b)\n}\n","export function arraysEqual(a, b) {\n  if (a === b) return true\n  if (a == null || b == null) return false\n  if (a.length !== b.length) return false\n  for (var i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false\n  }\n  return true\n}\n","const sum = (a, b) => a + b\n\nconst countElements = componentInfo =>\n  componentInfo\n    .map(({ data, srcComponentCount }) => data.length / srcComponentCount)\n    .reduce(sum)\n\nconst getLargestTypeByBytes = componentInfo =>\n  componentInfo\n    .map(({ data }) => data)\n    .reduce((lastType, typedArray) =>\n      lastType.BYTES_PER_ELEMENT >= typedArray.BYTES_PER_ELEMENT\n        ? lastType\n        : typedArray\n    )\n\nconst fuseComponents = ({ componentInfo, arrayToFill }) => {\n  const elementCount = countElements(componentInfo)\n  const fusedImageData =\n    arrayToFill ??\n    new (getLargestTypeByBytes(componentInfo).constructor)(elementCount)\n\n  const componentCount = componentInfo.length\n  const tupleCount = elementCount / componentCount\n  for (let cIdx = 0; cIdx < componentCount; cIdx++) {\n    const { data, srcComponentCount, fromComponent } = componentInfo[cIdx]\n    for (let tuple = 0; tuple < tupleCount; tuple++) {\n      fusedImageData[tuple * componentCount + cIdx] =\n        data[tuple * srcComponentCount + fromComponent]\n    }\n  }\n  return fusedImageData\n}\n\n// returns \"component infos\"\nexport const parseByComponent = scaleImage => {\n  if (!scaleImage) return []\n\n  // lift ITK image into array if not already (like from InMemoryMultiscaleSpatialImage)\n  const scaleImages = Array.isArray(scaleImage) ? scaleImage : [scaleImage]\n  return scaleImages.flatMap(image => {\n    const srcComponentCount = image.imageType.components\n    // pull each component from image\n    return [...Array(srcComponentCount).keys()].map(fromComponent => ({\n      fromComponent,\n      srcComponentCount,\n      image,\n      data: image.data,\n    }))\n  })\n}\n\nexport const pickAndFuseComponents = async ({\n  image,\n  labelImage,\n  components,\n}) => {\n  // not Conglomerate, no label image, and all components needed: just return image\n  if (\n    !Array.isArray(image) &&\n    !labelImage &&\n    image.imageType.components === components.length\n  )\n    return image\n\n  const [imageByComponent, labelByComponent] = [image, labelImage].map(image =>\n    parseByComponent(image)\n  )\n  const componentInfo = components.map(\n    comp =>\n      comp >= 0 ? imageByComponent[comp] : labelByComponent[comp * -1 - 1] // label component index starts at -1\n  )\n\n  componentInfo.forEach((compInfo, idx) => {\n    if (!compInfo) {\n      throw new Error(\n        'pickAndFuseComponents: Missing component for requested component: ' +\n          idx\n      )\n    }\n  })\n\n  const imageArray = fuseComponents({\n    componentInfo,\n  })\n\n  const ranges = componentInfo.map(\n    ({ image: { ranges }, fromComponent }) => ranges && ranges[fromComponent]\n  )\n\n  // picks out one from ConglomerateImage\n  const singleImage = Array.isArray(image) ? image[0] : image\n\n  const itkImage = {\n    ...singleImage,\n    data: imageArray,\n    imageType: {\n      ...singleImage.imageType,\n      components: components.length,\n    },\n    ranges,\n  }\n  return itkImage\n}\n\nexport const composeComponents = images => {\n  const componentCount = images.map(i => i.imageType.components).reduce(sum)\n  // include all components\n  const components = [...Array(componentCount).keys()]\n  // compose Conglomerate images\n  return pickAndFuseComponents({\n    image: images,\n    components,\n  })\n}\n","import registerWebworker from 'webworker-promise/lib/register'\nimport vtkITKHelper from 'vtk.js/Sources/Common/DataModel/ITKHelper'\nimport vtkBoundingBox from 'vtk.js/Sources/Common/DataModel/BoundingBox'\nimport { computeRanges } from '../../../IO/Analyze/computeRanges'\nimport { createRangeHelper } from '../../../IO/Analyze/createRangeHelper'\nimport { createCompareImage } from '../../../IO/Compare/createCompareImage'\nimport {\n  compareImageSpaces,\n  resampleLabelImage,\n} from '../../../IO/ResampleLabelImage/resampleLabelImage'\nimport {\n  composeComponents,\n  parseByComponent,\n  pickAndFuseComponents,\n} from '../../../IO/composeComponents'\n\nconst checkOverlap = (imageA, imageB) => {\n  const [vtkA, vtkB] = [imageA, imageB].map(vtkITKHelper.convertItkToVtkImage)\n  if (!vtkBoundingBox.intersects(vtkA.getBounds(), vtkB.getBounds())) {\n    console.warn(\n      'Trying to compare images but bounds do not intersect. Moving image will be empty.'\n    )\n  }\n}\n\nconst pickRanges = compInfos =>\n  compInfos\n    .map(({ image: { ranges }, fromComponent }) => ranges?.[fromComponent]) // no ranges in label\n    // if missing any range, return undefined\n    .reduce((ranges, range) => {\n      if (!ranges || !range) return undefined\n      return [...ranges, range]\n    }, [])\n    ?.map(([min, max]) => ({ min, max }))\n\nconst ensureRanges = async image => {\n  const componentInfo = parseByComponent(image)\n  const componentRanges =\n    pickRanges(componentInfo) ??\n    (await computeRanges(image.data, componentInfo.length))\n  image.ranges = componentRanges.map(({ min, max }) => [min, max])\n  return image\n}\n\nconst ensureSameImageSpace = async ({ targetImage, resampleImage }) => {\n  if (!resampleImage || !targetImage) return resampleImage\n\n  if (compareImageSpaces(targetImage, resampleImage)) return resampleImage\n\n  return resampleLabelImage(targetImage, resampleImage)\n}\n\nconst pickIntensityComponents = (image, components) => {\n  // 4+ component and ConglomerateImage processing\n  // fuseLabelImage assumes label is on the last component\n  const withoutLabel = components.filter(componentIndex => componentIndex >= 0)\n  return pickAndFuseComponents({\n    image,\n    components: withoutLabel,\n  })\n}\n\nconst fuseConglomerate = image => {\n  if (!Array.isArray(image)) return image\n  return composeComponents(image)\n}\n\nconst makeCompareImage = async ({ image, fixedImage, options }) => {\n  if (!options.method || options.method === 'disabled') return image\n\n  if (!fixedImage) {\n    console.error('No fixed image')\n    return\n  }\n  const itkImage = await fuseConglomerate(image)\n  const itkFixedImage = await fuseConglomerate(fixedImage)\n\n  // check if there is overlap in physical space.  If none, resample of image to fixedImage will be empty.\n  checkOverlap(itkImage, itkFixedImage)\n\n  const { ranges } = await ensureRanges(itkFixedImage)\n  const rangeHelper = createRangeHelper()\n  ranges.flat().forEach(v => rangeHelper.add(v))\n  const { min, max } = rangeHelper.getRange()\n\n  return createCompareImage(itkImage, itkFixedImage, {\n    minMax: [min, max],\n    ...options,\n  })\n}\n\nconst fuseLabelImage = async (image, labelImage) => {\n  const components = [...Array(image.imageType.components).keys(), -1]\n  const imageWithLabel = await pickAndFuseComponents({\n    image,\n    labelImage,\n    components,\n  })\n  return imageWithLabel\n}\n\nregisterWebworker(\n  async ({\n    image: inImage,\n    labelImage,\n    visualizedComponents,\n    fixedImage,\n    compare,\n  }) => {\n    let image = await makeCompareImage({\n      image: inImage,\n      fixedImage,\n      options: compare,\n    })\n    image = await pickIntensityComponents(image, visualizedComponents)\n\n    // Label processing\n    const labelResampled = await ensureSameImageSpace({\n      targetImage: image,\n      resampleImage: labelImage,\n    })\n    image = labelResampled ? await fuseLabelImage(image, labelResampled) : image\n    image = await ensureRanges(image)\n\n    return new registerWebworker.TransferableResponse({ image }, [\n      image.data.buffer,\n    ])\n  }\n)\n","/* eslint-disable no-undef */\nconst itkConfig = {\n  pipelineWorkerUrl:\n    __webpack_public_path__ + 'itk/web-workers/min-bundles/pipeline.worker.js',\n  imageIOUrl: __webpack_public_path__ + 'itk/image-io',\n  meshIOUrl: __webpack_public_path__ + 'itk/mesh-io',\n  pipelinesUrl: __webpack_public_path__ + 'itk/pipeline',\n}\n\nexport default itkConfig\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [480,159,774], () => (__webpack_require__(9857)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".itkVtkViewer.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = self.location + \"\";\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t444: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkitk_vtk_viewer\"] = self[\"webpackChunkitk_vtk_viewer\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["deferred","next","createRangeHelper","min","Number","POSITIVE_INFINITY","max","NEGATIVE_INFINITY","add","value","getRange","haveSharedArrayBuffer","globalThis","SharedArrayBuffer","numberOfWorkers","navigator","hardwareConcurrency","Math","computeRangeWorkerPool","makeWorker","operationName","createWorker","existingWorker","worker","webWorkerPromise","WebworkerPromise","compute","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","webWorker","_createWorker","_len","args","_key","result","_args","arguments","_context","prev","length","Array","exec","apply","concat","sent","abrupt","stop","_x","WorkerPool","webWorkerPromiseWorkerPool","Worker","URL","type","computeRanges","_computeRanges","values","numberOfComponents","numberOfSplits","taskArgs","split","arrayStride","arrayIndex","_split","arrayStart","arrayEnd","subArray","rangesBySplit","helpers","undefined","buffer","floor","slice","runTasks","promise","_toConsumableArray","map","forEach","_ref2","compIdx","h","runWasm","_runWasm","pipeline","images","_ref$outputs","outputs","_ref$maxSplits","maxSplits","pipelinesUrl","pipelineWorkerUrl","pipelinesUrlNoBlob","pipelinesWorkerUrlNoBlob","aImage","splits","tasks","workerPool","results","validResults","imageSplits","InterfaceTypes","itkConfig","startsWith","substring","self","location","origin","href","parseInt","size","keys","num","toString","o","inputs","image","data","imageSharedBufferOrCopy","runPipeline","terminateWorkers","filter","r","returnValue","stackImages","async","createCompareImage","movingImage","fixedImage","minMax","checkerboard","pattern","clampedPattern","s","idx","join","ranges","resampleLabelImage","labelImage","spacing","direction","compareImageSpaces","imageA","imageB","key","a","b","i","arraysEqual","every","sum","fuseComponents","_ref3","componentInfo","arrayToFill","elementCount","srcComponentCount","reduce","countElements","fusedImageData","lastType","typedArray","BYTES_PER_ELEMENT","getLargestTypeByBytes","componentCount","tupleCount","cIdx","_componentInfo$cIdx","fromComponent","tuple","parseByComponent","scaleImage","isArray","flatMap","imageType","components","pickAndFuseComponents","_ref5","_ref4","_map","_map2","imageByComponent","labelByComponent","imageArray","singleImage","itkImage","_slicedToArray","comp","compInfo","Error","_ref6","_objectSpread","ensureRanges","_pickRanges","componentRanges","_compInfos$map$reduce","range","t0","ensureSameImageSpace","_ref7","_callee2","targetImage","resampleImage","_context2","_x2","pickIntensityComponents","withoutLabel","componentIndex","fuseConglomerate","makeCompareImage","_ref9","_callee3","_ref8","options","itkFixedImage","_yield$ensureRanges","rangeHelper","_rangeHelper$getRange","_context3","method","console","error","vtkA","vtkB","vtkITKHelper","vtkBoundingBox","getBounds","warn","flat","v","_x3","fuseLabelImage","_ref10","_callee4","imageWithLabel","_context4","_x4","_x5","registerWebworker","_ref12","_callee5","_ref11","inImage","visualizedComponents","compare","labelResampled","_context5","_x6","__webpack_public_path__","imageIOUrl","meshIOUrl","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","id","loaded","__webpack_modules__","call","m","x","__webpack_exports__","O","amdD","amdO","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","splice","n","getter","__esModule","d","definition","defineProperty","enumerable","get","f","e","chunkId","Promise","all","promises","u","g","this","Function","window","obj","prop","prototype","hasOwnProperty","nmd","paths","children","scriptUrl","importScripts","document","currentScript","src","scripts","getElementsByTagName","replace","p","installedChunks","chunkLoadingGlobal","parentChunkLoadingFunction","push","bind","moreModules","runtime","pop","then"],"sourceRoot":""}