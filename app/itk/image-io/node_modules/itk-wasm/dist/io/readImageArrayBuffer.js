import createWebWorkerPromise from"../core/internal/createWebWorkerPromise.js";import InterfaceTypes from"../core/InterfaceTypes.js";import config from"../itkConfig.js";async function readImageArrayBuffer(e,r,a,t){let o=e;const{webworkerPromise:i,worker:n}=await createWebWorkerPromise(o);o=n;const m=`./${a}`,s=[m,"0","--memory-io","--quiet"],p=[{type:InterfaceTypes.Image}],f=[{type:InterfaceTypes.BinaryFile,data:{path:m,data:new Uint8Array(r)}}],c=[r];return{image:(await i.postMessage({operation:"readImage",config,mimeType:t,fileName:a,pipelinePath:"ReadImage",args:s,outputs:p,inputs:f},c)).outputs[0].data,webWorker:o}}export default readImageArrayBuffer;