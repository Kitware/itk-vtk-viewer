!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.itk=t():e.itk=t()}(self,(function(){return(()=>{"use strict";var e,t,a={742:(e,t,a)=>{var r=a(43),n=a(129),i=a(963),s=a(806);function o(){return(o=(0,r.Z)(n.mark((function e(t,a){var r,i,o,c,u,l,p,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,(r="string"!=typeof t?t.href:t.startsWith("http")?t:"".concat(a,"/").concat(t)).endsWith(".js")&&(r=r.substring(0,r.length-3)),r.endsWith(".wasm")&&(r=r.substring(0,r.length-5)),i="".concat(r,".wasm"),e.next=7,s.get(i,{responseType:"arraybuffer"});case 7:return o=e.sent,c=o.data,u="".concat(r,".umd.js"),importScripts(u),l=r.replace(/.*\//,""),p=self[l],f=p({wasmBinary:c}),e.abrupt("return",f);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const c=function(e,t){return o.apply(this,arguments)};var u=new Map;function l(){return(l=(0,r.Z)(n.mark((function e(t,a){var r,i,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,i=t,s=null,"string"!=typeof t&&(r=new URL(t.href),i=r.href),!u.has(i)){e.next=8;break}s=u.get(i),e.next=15;break;case 8:return e.t0=u,e.t1=i,e.next=12,c(r,a);case 12:e.t2=e.sent,e.t0.set.call(e.t0,e.t1,e.t2),s=u.get(i);case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const p=function(e,t){return l.apply(this,arguments)},f=new Map([["image/jpeg","JPEGImageIO"],["image/png","PNGImageIO"],["image/tiff","TIFFImageIO"],["image/x-ms-bmp","BMPImageIO"],["image/x-bmp","BMPImageIO"],["image/bmp","BMPImageIO"],["application/dicom","GDCMImageIO"]]),m=new Map([["bmp","BMPImageIO"],["BMP","BMPImageIO"],["dcm","GDCMImageIO"],["DCM","GDCMImageIO"],["gipl","GiplImageIO"],["gipl.gz","GiplImageIO"],["hdf5","HDF5ImageIO"],["jpg","JPEGImageIO"],["JPG","JPEGImageIO"],["jpeg","JPEGImageIO"],["JPEG","JPEGImageIO"],["iwi","WASMImageIO"],["iwi.cbor","WASMImageIO"],["iwi.cbor.zstd","WASMZstdImageIO"],["lsm","LSMImageIO"],["mnc","MINCImageIO"],["MNC","MINCImageIO"],["mnc.gz","MINCImageIO"],["MNC.GZ","MINCImageIO"],["mnc2","MINCImageIO"],["MNC2","MINCImageIO"],["mgh","MGHImageIO"],["mgz","MGHImageIO"],["mgh.gz","MGHImageIO"],["mha","MetaImageIO"],["mhd","MetaImageIO"],["mrc","MRCImageIO"],["nia","NiftiImageIO"],["nii","NiftiImageIO"],["nii.gz","NiftiImageIO"],["hdr","NiftiImageIO"],["nrrd","NrrdImageIO"],["NRRD","NrrdImageIO"],["nhdr","NrrdImageIO"],["NHDR","NrrdImageIO"],["png","PNGImageIO"],["PNG","PNGImageIO"],["pic","BioRadImageIO"],["PIC","BioRadImageIO"],["tif","TIFFImageIO"],["TIF","TIFFImageIO"],["tiff","TIFFImageIO"],["TIFF","TIFFImageIO"],["vtk","VTKImageIO"],["VTK","VTKImageIO"],["isq","ScancoImageIO"],["ISQ","ScancoImageIO"],["fdf","FDFImageIO"],["FDF","FDFImageIO"]]),d=function(e){var t=e.slice(2+(e.lastIndexOf(".")-1>>>0));if("gz"===t.toLowerCase()){var a=e.slice(0,-3).lastIndexOf(".");t=e.slice(2+(a-1>>>0))}else if("cbor"===t.toLowerCase()){var r=e.slice(0,-5).lastIndexOf(".");t=e.slice(2+(r-1>>>0))}else if("zstd"===t.toLowerCase()){var n=e.slice(0,-10).lastIndexOf(".");t=e.slice(2+(n-1>>>0))}else if("zip"===t.toLowerCase()){var i=e.slice(0,-4).lastIndexOf(".");t=e.slice(2+(i-1>>>0))}return t},h=["PNGImageIO","MetaImageIO","TIFFImageIO","NiftiImageIO","JPEGImageIO","NrrdImageIO","VTKImageIO","BMPImageIO","HDF5ImageIO","MINCImageIO","MRCImageIO","LSMImageIO","MGHImageIO","BioRadImageIO","GiplImageIO","GEAdwImageIO","GE4ImageIO","GE5ImageIO","GDCMImageIO","ScancoImageIO","FDFImageIO","WASMImageIO","WASMZstdImageIO"],I="InterfaceTextFile",y="InterfaceBinaryFile",b="InterfaceTextStream",g="InterfaceBinaryStream",O="InterfaceImage",w="InterfaceMesh",v="InterfacePolyData",x="Text",k="Binary",T="Image",M="Mesh",S="uint32",P="float32",D="float64",C=function(e,t){var a=null;switch(e){case"uint8":a=new Uint8Array(t);break;case"int8":a=new Int8Array(t);break;case"uint16":a=new Uint16Array(t);break;case"int16":a=new Int16Array(t);break;case S:a=new Uint32Array(t);break;case"int32":a=new Int32Array(t);break;case"uint64":a="function"==typeof globalThis.BigUint64Array?new BigUint64Array(t):new Uint8Array(t);break;case"int64":a="function"==typeof globalThis.BigInt64Array?new BigInt64Array(t):new Uint8Array(t);break;case P:a=new Float32Array(t);break;case D:a=new Float64Array(t);break;case"null":case null:a=null;break;default:throw new Error("Type is not supported as a TypedArray")}return a};var A="function"==typeof globalThis.SharedArrayBuffer,B=new TextEncoder,_=new TextDecoder("utf-8");function F(e,t){var a,r=e.fs_open(t,"r"),n=e.fs_stat(t).size;a=A?new SharedArrayBuffer(n):new ArrayBuffer(n);var i=new Uint8Array(a);return e.fs_read(r,i,0,n,0),e.fs_close(r),i}function U(e,t,a){var r;r=A?new SharedArrayBuffer(a):new ArrayBuffer(a);var n=new Uint8Array(r),i=new Uint8Array(e.HEAPU8.buffer,t,a);return n.set(i),n}function E(e,t,a,r){var n=0;return null!==t&&(n=e.ccall("itk_wasm_input_array_alloc","number",["number","number","number","number"],[0,a,r,t.buffer.byteLength]),e.HEAPU8.set(new Uint8Array(t.buffer),n)),n}function N(e,t,a){var r=JSON.stringify(t),n=e.ccall("itk_wasm_input_json_alloc","number",["number","number","number"],[0,a,r.length]);e.writeAsciiToMemory(r,n,!1)}function z(e,t,a,r){var n=e.ccall("itk_wasm_output_array_address","number",["number","number","number"],[0,t,a]),i=e.ccall("itk_wasm_output_array_size","number",["number","number","number"],[0,t,a]),s=U(e,n,i);return C(r,s.buffer)}function G(e,t){var a=e.ccall("itk_wasm_output_json_address","number",["number","number"],[0,t]),r=e.AsciiToString(a);return JSON.parse(r)}const j=function(e,t,a,r){null!=r&&r.length>0&&r.forEach((function(t,a){switch(t.type){case b:var r=B.encode(t.data.data),n=E(e,r,a,0),i={size:r.buffer.byteLength,data:"data:application/vnd.itk.address,0:".concat(n)};N(e,i,a);break;case g:var s=t.data.data,o=E(e,s,a,0),c={size:s.buffer.byteLength,data:"data:application/vnd.itk.address,0:".concat(o)};N(e,c,a);break;case I:case y:e.fs_writeFile(t.data.path,t.data.data);break;case O:var u=t.data,l=E(e,u.data,a,0),p=E(e,u.direction,a,1),f={imageType:u.imageType,name:u.name,origin:u.origin,spacing:u.spacing,direction:"data:application/vnd.itk.address,0:".concat(p),size:u.size,data:"data:application/vnd.itk.address,0:".concat(l)};N(e,f,a);break;case w:var m=t.data,d=E(e,m.points,a,0),h=E(e,m.cells,a,1),S=E(e,m.pointData,a,2),P=E(e,m.pointData,a,3),D={meshType:m.meshType,name:m.name,numberOfPoints:m.numberOfPoints,points:"data:application/vnd.itk.address,0:".concat(d),numberOfCells:m.numberOfCells,cells:"data:application/vnd.itk.address,0:".concat(h),cellBufferSize:m.cellBufferSize,numberOfPointPixels:m.numberOfPointPixels,pointData:"data:application/vnd.itk.address,0:".concat(S),numberOfCellPixels:m.numberOfCellPixels,cellData:"data:application/vnd.itk.address,0:".concat(P)};N(e,D,a);break;case v:var C=t.data,A=E(e,C.points,a,0),_=E(e,C.vertices,a,1),F=E(e,C.lines,a,2),U=E(e,C.polygons,a,3),z=E(e,C.triangleStrips,a,4),G=E(e,C.pointData,a,5),j=E(e,C.pointData,a,6),W={polyDataType:C.polyDataType,name:C.name,numberOfPoints:C.numberOfPoints,points:"data:application/vnd.itk.address,0:".concat(A),verticesBufferSize:C.verticesBufferSize,vertices:"data:application/vnd.itk.address,0:".concat(_),linesBufferSize:C.linesBufferSize,lines:"data:application/vnd.itk.address,0:".concat(F),polygonsBufferSize:C.polygonsBufferSize,polygons:"data:application/vnd.itk.address,0:".concat(U),triangleStripsBufferSize:C.triangleStripsBufferSize,triangleStrips:"data:application/vnd.itk.address,0:".concat(z),numberOfPointPixels:C.numberOfPointPixels,pointData:"data:application/vnd.itk.address,0:".concat(G),numberOfCellPixels:C.numberOfCellPixels,cellData:"data:application/vnd.itk.address,0:".concat(j)};N(e,W,a);break;case x:case k:e.fs_writeFile(t.path,t.data);break;case T:var J=t.data,R={imageType:J.imageType,name:J.name,origin:J.origin,spacing:J.spacing,direction:"data:application/vnd.itk.path,data/direction.raw",size:J.size,data:"data:application/vnd.itk.path,data/data.raw"};if(e.fs_mkdirs("".concat(t.path,"/data")),e.fs_writeFile("".concat(t.path,"/index.json"),JSON.stringify(R)),null===J.data)throw Error("image.data is null");e.fs_writeFile("".concat(t.path,"/data/data.raw"),new Uint8Array(J.data.buffer)),e.fs_writeFile("".concat(t.path,"/data/direction.raw"),new Uint8Array(J.direction.buffer));break;case M:var L=t.data,Z={meshType:L.meshType,name:L.name,numberOfPoints:L.numberOfPoints,points:"data:application/vnd.itk.path,data/points.raw",numberOfPointPixels:L.numberOfPointPixels,pointData:"data:application/vnd.itk.path,data/pointData.raw",numberOfCells:L.numberOfCells,cells:"data:application/vnd.itk.path,data/cells.raw",numberOfCellPixels:L.numberOfCellPixels,cellData:"data:application/vnd.itk.path,data/cellData.raw",cellBufferSize:L.cellBufferSize};if(e.fs_mkdirs("".concat(t.path,"/data")),e.fs_writeFile("".concat(t.path,"/index.json"),JSON.stringify(Z)),Z.numberOfPoints>0){if(null===L.points)throw Error("mesh.points is null");e.fs_writeFile("".concat(t.path,"/data/points.raw"),new Uint8Array(L.points.buffer))}if(Z.numberOfPointPixels>0){if(null===L.pointData)throw Error("mesh.pointData is null");e.fs_writeFile("".concat(t.path,"/data/pointData.raw"),new Uint8Array(L.pointData.buffer))}if(Z.numberOfCells>0){if(null===L.cells)throw Error("mesh.cells is null");e.fs_writeFile("".concat(t.path,"/data/cells.raw"),new Uint8Array(L.cells.buffer))}if(Z.numberOfCellPixels>0){if(null===L.cellData)throw Error("mesh.cellData is null");e.fs_writeFile("".concat(t.path,"/data/cellData.raw"),new Uint8Array(L.cellData.buffer))}break;default:throw Error("Unsupported input InterfaceType")}})),e.resetModuleStdout(),e.resetModuleStderr();var n=0;try{n=e.callMain(t)}catch(t){throw"number"==typeof t&&(console.log("Exception while running pipeline:"),console.log("stdout:",e.getModuleStdout()),console.error("stderr:",e.getModuleStderr()),void 0!==e.getExceptionMessage?console.error("exception:",e.getExceptionMessage(t)):console.error("Build module in Debug mode for exception message information.")),t}var i=e.getModuleStdout(),s=e.getModuleStderr(),o=[];return null!=a&&a.length>0&&0===n&&a.forEach((function(t,a){var r=null;switch(t.type){case b:var n=e.ccall("itk_wasm_output_array_address","number",["number","number","number"],[0,a,0]),i=e.ccall("itk_wasm_output_array_size","number",["number","number","number"],[0,a,0]),s=new Uint8Array(e.HEAPU8.buffer,n,i);r={data:_.decode(s)};break;case g:var c=e.ccall("itk_wasm_output_array_address","number",["number","number","number"],[0,a,0]),u=e.ccall("itk_wasm_output_array_size","number",["number","number","number"],[0,a,0]);r={data:U(e,c,u)};break;case I:r={path:t.data.path,data:e.fs_readFile(t.data.path,{encoding:"utf8"})};break;case y:r={path:t.data.path,data:F(e,t.data.path)};break;case O:var l=G(e,a);l.data=z(e,a,0,l.imageType.componentType),l.direction=z(e,a,1,D),r=l;break;case w:var p=G(e,a);p.numberOfPoints>0?p.points=z(e,a,0,p.meshType.pointComponentType):p.points=C(p.meshType.pointComponentType,new ArrayBuffer(0)),p.numberOfCells>0?p.cells=z(e,a,1,p.meshType.cellComponentType):p.cells=C(p.meshType.cellComponentType,new ArrayBuffer(0)),p.numberOfPointPixels>0?p.pointData=z(e,a,2,p.meshType.pointPixelComponentType):p.pointData=C(p.meshType.pointPixelComponentType,new ArrayBuffer(0)),p.numberOfCellPixels>0?p.cellData=z(e,a,3,p.meshType.cellPixelComponentType):p.cellData=C(p.meshType.cellPixelComponentType,new ArrayBuffer(0)),r=p;break;case v:var f=G(e,a);f.numberOfPoints>0?f.points=z(e,a,0,P):f.points=new Float32Array,f.verticesBufferSize>0?f.vertices=z(e,a,1,S):f.vertices=new Uint32Array,f.linesBufferSize>0?f.lines=z(e,a,2,S):f.lines=new Uint32Array,f.polygonsBufferSize>0?f.polygons=z(e,a,3,S):f.polygons=new Uint32Array,f.triangleStripsBufferSize>0?f.triangleStrips=z(e,a,4,S):f.triangleStrips=new Uint32Array,f.numberOfPointPixels>0?f.pointData=z(e,a,5,f.polyDataType.pointPixelComponentType):f.pointData=C(f.polyDataType.pointPixelComponentType,new ArrayBuffer(0)),f.numberOfCellPixels>0?f.cellData=z(e,a,6,f.polyDataType.cellPixelComponentType):f.cellData=C(f.polyDataType.cellPixelComponentType,new ArrayBuffer(0)),r=f;break;case x:if(void 0===t.path)throw new Error("output.path not defined");r=e.fs_readFile(t.path,{encoding:"utf8"});break;case k:if(void 0===t.path)throw new Error("output.path not defined");r=F(e,t.path);break;case T:if(void 0===t.path)throw new Error("output.path not defined");var m=e.fs_readFile("".concat(t.path,"/index.json"),{encoding:"utf8"}),d=JSON.parse(m),h=F(e,"".concat(t.path,"/data/data.raw"));d.data=C(d.imageType.componentType,h.buffer);var A=F(e,"".concat(t.path,"/data/direction.raw"));d.direction=C(D,A.buffer),r=d;break;case M:if(void 0===t.path)throw new Error("output.path not defined");var B=e.fs_readFile("".concat(t.path,"/index.json"),{encoding:"utf8"}),E=JSON.parse(B);if(E.numberOfPoints>0){var N=F(e,"".concat(t.path,"/data/points.raw"));E.points=C(E.meshType.pointComponentType,N.buffer)}else E.points=C(E.meshType.pointComponentType,new ArrayBuffer(0));if(E.numberOfPointPixels>0){var j=F(e,"".concat(t.path,"/data/pointData.raw"));E.pointData=C(E.meshType.pointPixelComponentType,j.buffer)}else E.pointData=C(E.meshType.pointPixelComponentType,new ArrayBuffer(0));if(E.numberOfCells>0){var W=F(e,"".concat(t.path,"/data/cells.raw"));E.cells=C(E.meshType.cellComponentType,W.buffer)}else E.cells=C(E.meshType.cellComponentType,new ArrayBuffer(0));if(E.numberOfCellPixels>0){var J=F(e,"".concat(t.path,"/data/cellData.raw"));E.cellData=C(E.meshType.cellPixelComponentType,J.buffer)}else E.cellData=C(E.meshType.cellPixelComponentType,new ArrayBuffer(0));r=E;break;default:throw Error("Unsupported output InterfaceType")}var R={type:t.type,data:r};o.push(R)})),{returnValue:n,stdout:i,stderr:s,outputs:o}};var W=function(e){return this instanceof W?(this.v=e,this):new W(e)},J=function(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=a.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){n[e]&&(r[e]=function(t){return new Promise((function(a,r){i.push([e,t,a,r])>1||o(e,t)}))})}function o(e,t){try{(a=n[e](t)).value instanceof W?Promise.resolve(a.value.v).then(c,u):l(i[0][2],a)}catch(e){l(i[0][3],e)}var a}function c(e){o("next",e)}function u(e){o("throw",e)}function l(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}},R=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,a=e[Symbol.asyncIterator];return a?a.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=e[a]&&function(t){return new Promise((function(r,n){!function(e,t,a,r){Promise.resolve(r).then((function(t){e({value:t,done:a})}),t)}(r,n,(t=e[a](t)).done,t.value)}))}}};function L(e){return J(this,arguments,n.mark((function t(){var a,r,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<h.length)){t.next=13;break}return r=h[a]+"ReadImage",t.next=5,W(p(r,e.config.imageIOUrl));case 5:return i=t.sent,t.next=8,W(i);case 8:return t.next=10,t.sent;case 10:a++,t.next=1;break;case 13:case"end":return t.stop()}}),t)})))}function Z(){return(Z=(0,r.Z)(n.mark((function e(t,a){var r,i,s,o,c,u,l,I,y,b,g,O,w;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.mimeType||!f.has(t.mimeType)){e.next=6;break}return s=f.get(t.mimeType)+a,e.next=4,p(s,t.config.imageIOUrl);case 4:return o=e.sent,e.abrupt("return",o);case 6:if(c=d(t.fileName),!m.has(c)){e.next=13;break}return u=m.get(c)+a,e.next=11,p(u,t.config.imageIOUrl);case 11:return l=e.sent,e.abrupt("return",l);case 13:I=0;case 14:if(!(I<h.length)){e.next=56;break}e.prev=16,r=void 0,y=R(L(t));case 18:return e.next=20,y.next();case 20:if((b=e.sent).done){e.next=38;break}return g=b.value,e.prev=23,e.next=26,j(g,t.args,t.outputs,t.inputs);case 26:if(O=e.sent,w=O.returnValue,O.outputs,0!==w){e.next=31;break}return e.abrupt("return",g);case 31:e.next=35;break;case 33:e.prev=33,e.t0=e.catch(23);case 35:case 36:e.next=18;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e.catch(16),r={error:e.t1};case 43:if(e.prev=43,e.prev=44,!b||b.done||!(i=y.return)){e.next=48;break}return e.next=48,i.call(y);case 48:if(e.prev=48,!r){e.next=51;break}throw r.error;case 51:return e.finish(48);case 52:return e.finish(43);case 53:++I,e.next=14;break;case 56:throw Error("Could not find IO for: ".concat(t.fileName));case 57:case"end":return e.stop()}}),e,null,[[16,40,43,53],[23,33],[44,,48,52]])})))).apply(this,arguments)}const V=function(e,t){return Z.apply(this,arguments)},H=new Map([]),K=new Map([["vtk","VTKPolyDataMeshIO"],["VTK","VTKPolyDataMeshIO"],["byu","BYUMeshIO"],["BYU","BYUMeshIO"],["fsa","FreeSurferAsciiMeshIO"],["FSA","FreeSurferAsciiMeshIO"],["fsb","FreeSurferBinaryMeshIO"],["FSB","FreeSurferBinaryMeshIO"],["obj","OBJMeshIO"],["OBJ","OBJMeshIO"],["off","OFFMeshIO"],["OFF","OFFMeshIO"],["stl","STLMeshIO"],["STL","STLMeshIO"],["swc","SWCMeshIO"],["SWC","SWCMeshIO"],["iwm","WASMMeshIO"],["iwm.cbor","WASMMeshIO"],["iwm.cbor.zstd","WASMZstdMeshIO"]]),Y=["BYUMeshIO","FreeSurferAsciiMeshIO","FreeSurferBinaryMeshIO","OBJMeshIO","OFFMeshIO","STLMeshIO","SWCMeshIO","VTKPolyDataMeshIO","WASMMeshIO","WASMZstdMeshIO"];var q=function(e){return this instanceof q?(this.v=e,this):new q(e)},Q=function(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=a.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){n[e]&&(r[e]=function(t){return new Promise((function(a,r){i.push([e,t,a,r])>1||o(e,t)}))})}function o(e,t){try{(a=n[e](t)).value instanceof q?Promise.resolve(a.value.v).then(c,u):l(i[0][2],a)}catch(e){l(i[0][3],e)}var a}function c(e){o("next",e)}function u(e){o("throw",e)}function l(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}},X=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,a=e[Symbol.asyncIterator];return a?a.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=e[a]&&function(t){return new Promise((function(r,n){!function(e,t,a,r){Promise.resolve(r).then((function(t){e({value:t,done:a})}),t)}(r,n,(t=e[a](t)).done,t.value)}))}}};function $(e){return Q(this,arguments,n.mark((function t(){var a,r,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<Y.length)){t.next=13;break}return r=Y[a]+"ReadMesh",t.next=5,q(p(r,e.config.meshIOUrl));case 5:return i=t.sent,t.next=8,q(i);case 8:return t.next=10,t.sent;case 10:a++,t.next=1;break;case 13:case"end":return t.stop()}}),t)})))}function ee(){return(ee=(0,r.Z)(n.mark((function e(t,a){var r,i,s,o,c,u,l,f,m,h,I,y,b;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.mimeType||!H.has(t.mimeType)){e.next=6;break}return s=H.get(t.mimeType)+a,e.next=4,p(s,t.config.meshIOUrl);case 4:return o=e.sent,e.abrupt("return",o);case 6:if(c=d(t.fileName),!K.has(c)){e.next=13;break}return u=K.get(c)+a,e.next=11,p(u,t.config.meshIOUrl);case 11:return l=e.sent,e.abrupt("return",l);case 13:f=0;case 14:if(!(f<Y.length)){e.next=56;break}e.prev=16,r=void 0,m=X($(t));case 18:return e.next=20,m.next();case 20:if((h=e.sent).done){e.next=38;break}return I=h.value,e.prev=23,e.next=26,j(I,t.args,t.outputs,t.inputs);case 26:if(y=e.sent,b=y.returnValue,y.outputs,0!==b){e.next=31;break}return e.abrupt("return",I);case 31:e.next=35;break;case 33:e.prev=33,e.t0=e.catch(23);case 35:case 36:e.next=18;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e.catch(16),r={error:e.t1};case 43:if(e.prev=43,e.prev=44,!h||h.done||!(i=m.return)){e.next=48;break}return e.next=48,i.call(m);case 48:if(e.prev=48,!r){e.next=51;break}throw r.error;case 51:return e.finish(48);case 52:return e.finish(43);case 53:++f,e.next=14;break;case 56:throw Error("Could not find IO for: ".concat(t.fileName));case 57:case"end":return e.stop()}}),e,null,[[16,40,43,53],[23,33],[44,,48,52]])})))).apply(this,arguments)}const te=function(e,t){return ee.apply(this,arguments)};var ae=a(709),re="function"==typeof globalThis.SharedArrayBuffer;const ne=function(e){var t=null;return void 0!==e.buffer?t=e.buffer:void 0!==e.byteLength&&(t=e),t&&re&&t instanceof SharedArrayBuffer?null:t},ie=function(e){var t=[];return null!=e.points&&t.push(e.points.buffer),null!=e.pointData&&t.push(e.pointData.buffer),null!=e.cells&&t.push(e.cells.buffer),null!=e.cellData&&t.push(e.cellData.buffer),t},se=function(e){var t=[];return null!=e.points&&t.push(e.points.buffer),null!=e.vertices&&t.push(e.vertices.buffer),null!=e.lines&&t.push(e.lines.buffer),null!=e.polygons&&t.push(e.polygons.buffer),null!=e.triangleStrips&&t.push(e.triangleStrips.buffer),null!=e.pointData&&t.push(e.pointData.buffer),null!=e.cellData&&t.push(e.cellData.buffer),t};function oe(){return(oe=(0,r.Z)(n.mark((function e(t,a,r,s){var o,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=j(t,a,r,s),c=[],o.outputs&&o.outputs.forEach((function(e){if(e.type===g||e.type===y){var t=e.data,a=ne(t);a&&c.push(a)}else if(e.type===O){var r=e.data,n=ne(r.data);n&&c.push(n),(n=ne(r.direction))&&c.push(n)}else if(e.type===w){var i=e.data,s=ie(i);c.push.apply(c,(0,ae.Z)(s))}else if(e.type===v){var o=e.data,u=se(o);c.push.apply(c,(0,ae.Z)(u))}else if(e.type===k){var l=e.data,p=ne(l);p&&c.push(p)}else if(e.type===T){var f=e.data,m=ne(f.data);m&&c.push(m),(m=ne(f.direction))&&c.push(m)}else if(e.type===M){var d=e.data;if(d.points){var h=ne(d.points);h&&c.push(h)}if(d.pointData){var I=ne(d.pointData);I&&c.push(I)}if(d.cells){var b=ne(d.cells);b&&c.push(b)}if(d.cellData){var x=ne(d.cellData);x&&c.push(x)}}})),e.abrupt("return",new i.TransferableResponse(o,c));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const ce=function(e,t,a,r){return oe.apply(this,arguments)};i(function(){var e=(0,r.Z)(n.mark((function e(t){var a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,"runPipeline"!==t.operation){e.next=7;break}return e.next=4,p(t.pipelinePath,t.config.pipelinesUrl);case 4:case 10:case 16:case 22:case 28:case 34:case 40:case 46:case 52:a=e.sent,e.next=56;break;case 7:if("readImage"!==t.operation){e.next=13;break}return e.next=10,V(t,"ReadImage");case 13:if("writeImage"!==t.operation){e.next=19;break}return e.next=16,V(t,"WriteImage");case 19:if("readMesh"!==t.operation){e.next=25;break}return e.next=22,te(t,"ReadMesh");case 25:if("writeMesh"!==t.operation){e.next=31;break}return e.next=28,te(t,"WriteMesh");case 31:if("meshToPolyData"!==t.operation){e.next=37;break}return e.next=34,p("MeshToPolyData",t.config.meshIOUrl);case 37:if("polyDataToMesh"!==t.operation){e.next=43;break}return e.next=40,p("PolyDataToMesh",t.config.meshIOUrl);case 43:if("readDICOMImageSeries"!==t.operation){e.next=49;break}return e.next=46,p("ReadImageDICOMFileSeries",t.config.imageIOUrl);case 49:if("readDICOMTags"!==t.operation){e.next=55;break}return e.next=52,p("ReadDICOMTags",t.config.imageIOUrl);case 55:throw new Error("Unknown worker operation");case 56:return e.abrupt("return",ce(a,t.args,t.outputs,t.inputs));case 57:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return a[e](i,i.exports,n),i.loaded=!0,i.exports}return n.m=a,n.x=()=>{var e=n.O(void 0,[761],(()=>n(742)));return n.O(e)},e=[],n.O=(t,a,r,i)=>{if(!a){var s=1/0;for(l=0;l<e.length;l++){for(var[a,r,i]=e[l],o=!0,c=0;c<a.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](a[c])))?a.splice(c--,1):(o=!1,i<s&&(s=i));if(o){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[a,r,i]},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,a)=>(n.f[a](e,t),t)),[])),n.u=e=>e+".itk-wasm.min.js",n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="https://cdn.jsdelivr.net/npm/",(()=>{var e={742:1};n.f.i=(t,a)=>{e[t]||importScripts(n.p+n.u(t))};var t=self.webpackChunkitk=self.webpackChunkitk||[],a=t.push.bind(t);t.push=t=>{var[r,i,s]=t;for(var o in i)n.o(i,o)&&(n.m[o]=i[o]);for(s&&s(n);r.length;)e[r.pop()]=1;a(t)}})(),t=n.x,n.x=()=>n.e(761).then(t),n.x()})()}));