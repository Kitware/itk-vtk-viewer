import writeImageArrayBuffer from"./writeImageArrayBuffer.js";import writeMeshArrayBuffer from"./writeMeshArrayBuffer.js";import getFileExtension from"./getFileExtension.js";import extensionToMeshIO from"./extensionToMeshIO.js";import mimeToMeshIO from"./internal/MimeToMeshIO.js";async function writeArrayBuffer(e,r,t,i="",o=!1){if("boolean"==typeof r)throw new Error("useCompression is now the argument position in itk-wasm");const n=getFileExtension(t);return extensionToMeshIO.has(n)||mimeToMeshIO.has(i)?await writeMeshArrayBuffer(e,r,t,i,{useCompression:o}).catch((async function(){return null!=e&&e.terminate(),await writeImageArrayBuffer(null,r,t,i,o)})):await writeImageArrayBuffer(e,r,t,i,o)}export default writeArrayBuffer;