import copyImage from"./copyImage.js";const haveSharedArrayBuffer="function"==typeof globalThis.SharedArrayBuffer;function imageSharedBufferOrCopy(r){if(null===r.data)return r;if(haveSharedArrayBuffer){if(r.data.buffer instanceof SharedArrayBuffer)return r;const e=new SharedArrayBuffer(r.data.buffer.byteLength),a=new(0,r.data.constructor)(e);return null!==a&&a.set(r.data,0),r.data=a,r}return copyImage(r)}export default imageSharedBufferOrCopy;