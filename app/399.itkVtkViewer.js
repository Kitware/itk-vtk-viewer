(()=>{"use strict";var r,e,t={6579:(r,e,t)=>{var n=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=function r(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var o=Object.getPrototypeOf(e);return null===o?void 0:r(o,t,n)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(n):void 0},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function i(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}function u(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function c(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}var f=t(6603),s="main",l=function r(e,t){u(this,r),this.payload=e,this.transferable=t};r.exports=function(r){var e,t,y,p=(y=r,(t=s)in(e={})?Object.defineProperty(e,t,{value:y,enumerable:!0,configurable:!0,writable:!0}):e.main=y,e),h=self.postMessage.bind(self),v=new(function(r){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}(e,r),n(e,[{key:"emit",value:function(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return h({eventName:r,args:t}),this}},{key:"emitLocally",value:function(r){for(var t,n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(t=a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this)).call.apply(t,[this,r].concat(o))}},{key:"operation",value:function(r,e){return p[r]=e,this}}]),e}(f)),b=function(r,e,t){var n,a=function(e){e&&e instanceof l?d(r,1,e.payload,e.transferable):d(r,1,e)},i=function(e){d(r,0,{message:e.message,stack:e.stack})};try{var u=m(r,e,t);"object"===(void 0===(n=u)?"undefined":o(n))&&"function"==typeof n.then&&"function"==typeof n.catch?u.then(a).catch(i):a(u)}catch(r){i(r)}},m=function(r,e,t){var n=p[t||s];if(!n)throw new Error("Not found handler for this request");return n(e,g.bind(null,r))},d=function(r,e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];h([0,r,e,t],n)},g=function(r,e,t){if(!e)throw new Error("eventName is required");if("string"!=typeof e)throw new Error("eventName should be string");h([1,r,e,t])};return self.addEventListener("message",(function(r){var e=r.data;Array.isArray(e)?b.apply(void 0,i(e)):e&&e.eventName&&v.emitLocally.apply(v,[e.eventName].concat(i(e.args)))})),v},r.exports.TransferableResponse=l},6603:r=>{var e=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),t=function(){function r(){!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return e(r,[{key:"emit",value:function(r){if(!this.__listeners[r])return this;for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var a=!0,o=!1,i=void 0;try{for(var u,c=this.__listeners[r][Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;f.apply(void 0,t)}}catch(r){o=!0,i=r}finally{try{!a&&c.return&&c.return()}finally{if(o)throw i}}return this}},{key:"once",value:function(r,e){var t=this;return this.on(r,(function n(){t.off(r,n),e.apply(void 0,arguments)}))}},{key:"on",value:function(r,e){return this.__listeners[r]||(this.__listeners[r]=[]),this.__listeners[r].push(e),this}},{key:"off",value:function(r,e){return this.__listeners[r]=e?this.__listeners[r].filter((function(r){return r!==e})):[],this}}]),r}();r.exports=t},5399:(r,e,t)=>{var n=t(4390),a=t(8270),o=t(4641),i=t(4264),u=t.n(i),c=t(6579),f=t.n(c),s=t(3486),l=t(16),y=t(474),p=t.n(y);function h(){var r=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY;return{add:function(t){r>t&&(r=t),e<t&&(e=t)},getRange:function(){return{min:r,max:e}}}}var v="function"==typeof globalThis.SharedArrayBuffer,b=navigator.hardwareConcurrency?Math.min(navigator.hardwareConcurrency,8):4,m=function(r,e,t){var a=function(r){var t=null!=r?r:e();return{webWorkerPromise:new(p())(t),worker:t}},o=function(){var r=(0,n.Z)(u().mark((function r(e){var n,o,i,c,f,s,l,y=arguments;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(n=a(e),o=n.webWorkerPromise,i=n.worker,c=y.length,f=new Array(c>1?c-1:0),s=1;s<c;s++)f[s-1]=y[s];return r.next=4,o.exec.apply(o,[t].concat(f));case 4:return l=r.sent,r.abrupt("return",{result:l,webWorker:i});case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return new l.Z(r,o)}(b,(function(){return new Worker(new URL(t.p+t.u(764),t.b),{type:void 0})}),"computeRanges");function d(r){return g.apply(this,arguments)}function g(){return g=(0,n.Z)(u().mark((function r(e){var t,n,a,o,i,c,f,l,y,p,d,g,w=arguments;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=w.length>1&&void 0!==w[1]?w[1]:1,n=b,a=new Array(n),v&&e.buffer instanceof SharedArrayBuffer)for(o=0;o<n;o++)a[o]=[{split:o,numberOfSplits:n,values:e,numberOfComponents:t}];else for(i=Math.floor(e.length/n)||1,i+=i%t,c=0,f=0;f<n;f++)l=c,y=Math.min(c+i,e.length-1),p=e.slice(l,y+1),a[f]=[{split:0,numberOfSplits:1,values:p,numberOfComponents:t},[p.buffer]],c+=i;return r.next=6,m.runTasks(a).promise;case 6:return d=r.sent,g=(0,s.Z)(Array(t)).map(h),d.forEach((function(r){r.result.forEach((function(r,e){var t=r.min,n=r.max;g[e].add(t),g[e].add(n)}))})),r.abrupt("return",g.map((function(r){return r.getRange()})));case 10:case"end":return r.stop()}}),r)}))),g.apply(this,arguments)}const w="int8",x="uint8",O="int16",A="uint16",k="int32",j="uint32",_="int64",E="uint64",S="float32",I="float64",P=new Map([[w,Int8Array],[x,Uint8Array],[O,Int16Array],[A,Uint16Array],[k,Int32Array],[j,Uint32Array],[S,Float32Array],[I,Float64Array]]);var T=Object.freeze(["c","x","y","z","t"]),z=function(r,e,t){return e.reduce((function(e,t){var n;return e.set(t,null!==(n=e.get(t))&&void 0!==n?n:r)}),new Map(t))},M="function"==typeof globalThis.BigInt64Array?globalThis.BigInt64Array:Int32Array,N="function"==typeof globalThis.BigUint64Array?globalThis.BigUint64Array:Uint32Array,U=Array.from(new Map([["b",[Int8Array,"getInt8",w]],["B",[Uint8Array,"getUint8",x]],["u1",[Uint8Array,"getUint8",x]],["i1",[Int8Array,"getInt8",w]],["u2",[Uint16Array,"getUint16",A]],["i2",[Int16Array,"getInt16",O]],["u4",[Uint32Array,"getUint32",j]],["i4",[Int32Array,"getInt32",k]],["u8",[N,"getBigUint64",E]],["i8",[M,"getBigInt64",_]],["f4",[Float32Array,"getFloat32",S]],["f8",[Float64Array,"getFloat64",I]]])).reduce((function(r,e){var t=(0,o.Z)(e,2),n=t[0],a=(0,o.Z)(t[1],3),i=a[0],u=a[1],c=a[2];return r.set(n,{TypedArray:i,dataViewGetter:u,itkComponent:c})}),new Map),B=function(r){return r.replace(/^(<|>|=|\|)/,"")},Z=function(r){var e=B(r);return e.length<2?1:Number(e.slice(-1))},F=function(r){return"<"===r.charAt(0)};function C(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function R(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?C(Object(t),!0).forEach((function(e){(0,a.Z)(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}var D,V="function"==typeof self.SharedArrayBuffer,W=(D=new ArrayBuffer(2),new DataView(D).setInt16(0,256,!0),256===new Int16Array(D)[0]),L=function(r){var e=r.scaleInfo,t=r.imageType,n=r.chunkIndices,i=r.chunks,u=r.indexStart,c=r.indexEnd,f=P.get(t.componentType),s=null,l=Array.from(e.arrayShape.values()).reduce((function(r,e){return r*e}));if(V){var y=l*f.BYTES_PER_ELEMENT,p=new SharedArrayBuffer(y);s=new f(p)}else s=new f(l);for(var h=Object.fromEntries(z(1,T,e.arrayShape)),v={z:h.c*h.x*h.y,y:h.c*h.x,x:h.c},b=z(1,T,e.chunkSize),m=Object.fromEntries(b),d=Array.from(b).reverse().reduce((function(r,e){var t=(0,o.Z)(r,2),n=t[0],i=t[1],u=(0,o.Z)(e,2),c=u[0],f=u[1];return[R((0,a.Z)({},c,i),n),i*f]}),[{},1]),g=(0,o.Z)(d,1)[0],w=function(r){var t=(0,o.Z)(n[r],4),a=t[0],f=t[1],l=t[2],y=t[3],p={c:a*m.c,z:y*m.z,y:l*m.y,x:f*m.x},b={c:(a+1)*m.c,z:(y+1)*m.z,y:(l+1)*m.y,x:(f+1)*m.x},d=Object.fromEntries(z(0,T,u)),w=Object.fromEntries(z(1,T,c));!function(r){var e=r.chunkStart,t=r.chunkEnd,n=r.roiStart,a=r.roiEnd;["x","y","z"].some((function(r){return e[r]>a[r]||t[r]<n[r]}))&&console.error("Requested a chunk outside the region of interest!")}({chunkStart:p,chunkEnd:b,roiStart:d,roiEnd:w});var x,O={c:Math.max(p.c,d.c),z:Math.max(p.z,d.z),y:Math.max(p.y,d.y),x:Math.max(p.x,d.x)},A=Math.min(b.c,w.c),k=Math.min(b.z,w.z),j=Math.min(b.y,w.y),_=Math.min(b.x,w.x),E=Object.keys(v).reduce((function(r,e){return r+v[e]*d[e]}),0),S=Array.from(e.arrayShape.keys()).join(""),I=S.endsWith("xc")||1===h.c&&S.endsWith("x"),P=1===Z(e.dtype)||W===F(e.dtype);if(I&&P)for(var M=new(x=e.dtype,U.get(B(x)).TypedArray)(i[r]),N=(O.x-f*m.x)*g.x,C=O.z;C<k;C++)for(var R=(C-y*m.z)*g.z,D=C*v.z-E,V=O.y;V<j;V++){var L=N+(V-l*m.y)*g.y+R,q=M.subarray(L,L+A*(_-O.x)),G=O.x*v.x+V*v.y+D;s.set(q,G)}else for(var Y=function(r,e){var t=new DataView(e),n=Z(r),a=F(r),o=U.get(B(r)).dataViewGetter;return function(r){return t[o](r*n,a)}}(e.dtype,i[r]),$=O.c;$<A;$++)for(var H=($-a*m.c)*g.c,J=O.z;J<k;J++)for(var K=(J-y*m.z)*g.z+H,Q=J*v.z+$-E,X=O.y;X<j;X++)for(var rr=(X-l*m.y)*g.y+K,er=X*v.y+Q,tr=O.x;tr<_;tr++)s[tr*v.x+er]=Y((tr-f*m.x)*g.x+rr)},x=0;x<n.length;x++)w(x);return s};f()().operation("imageDataFromChunks",function(){var r=(0,n.Z)(u().mark((function r(e){var t,n,a,o;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=L(e),!e.areRangesNeeded){r.next=7;break}return r.next=4,d(n,null!==(t=e.scaleInfo.arrayShape.get("c"))&&void 0!==t?t:1);case 4:r.t0=r.sent.map((function(r){return[r.min,r.max]})),r.next=8;break;case 7:r.t0=void 0;case 8:return a=r.t0,o={pixelArray:n,ranges:a},r.abrupt("return",V?o:new(f().TransferableResponse)(o,[n.buffer]));case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}},n={};function a(r){var e=n[r];if(void 0!==e)return e.exports;var o=n[r]={exports:{}};return t[r](o,o.exports,a),o.exports}a.m=t,a.x=()=>{var r=a.O(void 0,[159],(()=>a(5399)));return a.O(r)},r=[],a.O=(e,t,n,o)=>{if(!t){var i=1/0;for(s=0;s<r.length;s++){for(var[t,n,o]=r[s],u=!0,c=0;c<t.length;c++)(!1&o||i>=o)&&Object.keys(a.O).every((r=>a.O[r](t[c])))?t.splice(c--,1):(u=!1,o<i&&(i=o));if(u){r.splice(s--,1);var f=n();void 0!==f&&(e=f)}}return e}o=o||0;for(var s=r.length;s>0&&r[s-1][2]>o;s--)r[s]=r[s-1];r[s]=[t,n,o]},a.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return a.d(e,{a:e}),e},a.d=(r,e)=>{for(var t in e)a.o(e,t)&&!a.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},a.f={},a.e=r=>Promise.all(Object.keys(a.f).reduce(((e,t)=>(a.f[t](r,e),e)),[])),a.u=r=>r+".itkVtkViewer.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),a.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),(()=>{var r;a.g.importScripts&&(r=a.g.location+"");var e=a.g.document;if(!r&&e&&(e.currentScript&&(r=e.currentScript.src),!r)){var t=e.getElementsByTagName("script");t.length&&(r=t[t.length-1].src)}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=r})(),(()=>{a.b=self.location+"";var r={399:1};a.f.i=(e,t)=>{r[e]||importScripts(a.p+a.u(e))};var e=self.webpackChunkitk_vtk_viewer=self.webpackChunkitk_vtk_viewer||[],t=e.push.bind(e);e.push=e=>{var[n,o,i]=e;for(var u in o)a.o(o,u)&&(a.m[u]=o[u]);for(i&&i(a);n.length;)r[n.pop()]=1;t(e)}})(),e=a.x,a.x=()=>a.e(159).then(e),a.x()})();
//# sourceMappingURL=399.itkVtkViewer.js.map