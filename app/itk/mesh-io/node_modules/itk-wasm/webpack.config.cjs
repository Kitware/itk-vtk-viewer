const path=require("path"),webpack=require("webpack"),entry=path.join(__dirname,"dist","browser","index.js"),outputPath=path.join(__dirname,"dist","umd"),packageJSON=require("./package.json"),cdnPath="https://cdn.jsdelivr.net/npm/",cdnConfig=path.resolve(__dirname,"src","itkConfigCDN.js"),library={type:"umd",name:"itk"},moduleConfig={rules:[{test:/\.js$/,use:{loader:"babel-loader",options:{presets:["@babel/preset-env"]}}}]},resolve={modules:[path.resolve(__dirname,"node_modules")],fallback:{fs:!1,path:!1,url:!1,module:!1},alias:{"../itkConfig.js":cdnConfig,"../../itkConfig.js":cdnConfig}},performance={maxAssetSize:1e7},plugins=[new webpack.DefinePlugin({__itk_version__:JSON.stringify(packageJSON.version)})],stats="errors-only";module.exports=[{name:"development",mode:"development",stats,entry,output:{path:outputPath,filename:"itk-wasm.js",publicPath:cdnPath,library},module:moduleConfig,resolve,plugins,performance},{name:"production",mode:"production",stats,entry,output:{path:outputPath,filename:"itk-wasm.min.js",publicPath:cdnPath,library},module:moduleConfig,resolve,plugins,performance}];