(()=>{"use strict";var e,t,r={6579:(e,t,r)=>{var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(n):void 0},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=r(6603),f="main",u=function e(t,r){s(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,I,m=(I=e,(r=f)in(t={})?Object.defineProperty(t,r,{value:I,enumerable:!0,configurable:!0,writable:!0}):t.main=I,t),p=self.postMessage.bind(self),g=new(function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return p({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(r=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(o))}},{key:"operation",value:function(e,t){return m[e]=t,this}}]),t}(c)),h=function(e,t,r){var n,a=function(t){t&&t instanceof u?O(e,1,t.payload,t.transferable):O(e,1,t)},i=function(t){O(e,0,{message:t.message,stack:t.stack})};try{var s=y(e,t,r);"object"===(void 0===(n=s)?"undefined":o(n))&&"function"==typeof n.then&&"function"==typeof n.catch?s.then(a).catch(i):a(s)}catch(e){i(e)}},y=function(e,t,r){var n=m[r||f];if(!n)throw new Error("Not found handler for this request");return n(t,d.bind(null,e))},O=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];p([0,e,t,r],n)},d=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");p([1,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?h.apply(void 0,i(t)):t&&t.eventName&&g.emitLocally.apply(g,[t.eventName].concat(i(t.args)))})),g},e.exports.TransferableResponse=u},4236:(e,t,r)=>{var n=r(6579),a=r(7310);const o=async function(e,t){let r=null;r="string"!=typeof e?e.href:e.startsWith("http")?e:`${t}/${e}`,r.endsWith(".js")&&(r=r.substring(0,r.length-3)),r.endsWith(".wasm")&&(r=r.substring(0,r.length-5));const n=`${r}.wasm`,o=(await a.get(n,{responseType:"arraybuffer"})).data;importScripts(`${r}.umd.js`);const i=function(e){const t=e.replace(/-([a-z])/g,(e=>e[1].toUpperCase())).replace(/([^0-9a-z])/gi,"");return""===t&&console.error("Resulting string is empty."),t}(r.replace(/.*\//,""));return(0,self[i])({wasmBinary:o})},i=new Map,s=async function(e,t){let r=e,n=e,a=null;return"string"!=typeof e&&(r=new URL(e.href),n=r.href),i.has(n)||i.set(n,await o(r,t)),a=i.get(n),a},l=new Map([["image/jpeg","JPEGImageIO"],["image/png","PNGImageIO"],["image/tiff","TIFFImageIO"],["image/x-ms-bmp","BMPImageIO"],["image/x-bmp","BMPImageIO"],["image/bmp","BMPImageIO"],["application/dicom","GDCMImageIO"]]),c=new Map([["bmp","BMPImageIO"],["BMP","BMPImageIO"],["dcm","GDCMImageIO"],["DCM","GDCMImageIO"],["gipl","GiplImageIO"],["gipl.gz","GiplImageIO"],["hdf5","HDF5ImageIO"],["jpg","JPEGImageIO"],["JPG","JPEGImageIO"],["jpeg","JPEGImageIO"],["JPEG","JPEGImageIO"],["iwi","WasmImageIO"],["iwi.cbor","WasmImageIO"],["iwi.cbor.zstd","WasmZstdImageIO"],["lsm","LSMImageIO"],["mnc","MINCImageIO"],["MNC","MINCImageIO"],["mnc.gz","MINCImageIO"],["MNC.GZ","MINCImageIO"],["mnc2","MINCImageIO"],["MNC2","MINCImageIO"],["mgh","MGHImageIO"],["mgz","MGHImageIO"],["mgh.gz","MGHImageIO"],["mha","MetaImageIO"],["mhd","MetaImageIO"],["mrc","MRCImageIO"],["nia","NiftiImageIO"],["nii","NiftiImageIO"],["nii.gz","NiftiImageIO"],["hdr","NiftiImageIO"],["nrrd","NrrdImageIO"],["NRRD","NrrdImageIO"],["nhdr","NrrdImageIO"],["NHDR","NrrdImageIO"],["png","PNGImageIO"],["PNG","PNGImageIO"],["pic","BioRadImageIO"],["PIC","BioRadImageIO"],["tif","TIFFImageIO"],["TIF","TIFFImageIO"],["tiff","TIFFImageIO"],["TIFF","TIFFImageIO"],["vtk","VTKImageIO"],["VTK","VTKImageIO"],["isq","ScancoImageIO"],["ISQ","ScancoImageIO"],["fdf","FDFImageIO"],["FDF","FDFImageIO"]]),f=function(e){let t=e.slice(2+(e.lastIndexOf(".")-1>>>0));if("gz"===t.toLowerCase()){const r=e.slice(0,-3).lastIndexOf(".");t=e.slice(2+(r-1>>>0))}else if("cbor"===t.toLowerCase()){const r=e.slice(0,-5).lastIndexOf(".");t=e.slice(2+(r-1>>>0))}else if("zstd"===t.toLowerCase()){const r=e.slice(0,-10).lastIndexOf(".");t=e.slice(2+(r-1>>>0))}else if("zip"===t.toLowerCase()){const r=e.slice(0,-4).lastIndexOf(".");t=e.slice(2+(r-1>>>0))}return t},u=["PNGImageIO","MetaImageIO","TIFFImageIO","NiftiImageIO","JPEGImageIO","NrrdImageIO","VTKImageIO","BMPImageIO","HDF5ImageIO","MINCImageIO","MRCImageIO","LSMImageIO","MGHImageIO","BioRadImageIO","GiplImageIO","GEAdwImageIO","GE4ImageIO","GE5ImageIO","GDCMImageIO","ScancoImageIO","FDFImageIO","WasmImageIO","WasmZstdImageIO"];var I=r(1593),m=function(e){return this instanceof m?(this.v=e,this):new m(e)},p=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){a[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=a[e](t)).value instanceof m?Promise.resolve(r.value.v).then(l,c):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function l(e){s("next",e)}function c(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},g=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,a,(t=e[r](t)).done,t.value)}))}}};function h(e){return p(this,arguments,(function*(){for(let t=0;t<u.length;t++){const r=u[t]+"-read-image",n=yield m(s(r,e.config.imageIOUrl));yield yield m(n)}}))}const y=async function(e,t){var r,n;if(e.mimeType&&l.has(e.mimeType)){const r=l.get(e.mimeType)+t;return await s(r,e.config.imageIOUrl)}const a=f(e.fileName);if(c.has(a)){const r=c.get(a)+t;return await s(r,e.config.imageIOUrl)}for(let t=0;t<u.length;++t){let t=0;try{for(var o,i=(r=void 0,g(h(e)));!(o=await i.next()).done;){const r=o.value;try{const{returnValue:t,outputs:n}=await(0,I.Z)(r,e.args,e.outputs,e.inputs);if(0===t)return r}catch(e){}t++}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&await n.call(i)}finally{if(r)throw r.error}}}throw Error(`Could not find IO for: ${e.fileName}`)},O=new Map([]),d=new Map([["vtk","VTKPolyDataMeshIO"],["VTK","VTKPolyDataMeshIO"],["byu","BYUMeshIO"],["BYU","BYUMeshIO"],["fsa","FreeSurferAsciiMeshIO"],["FSA","FreeSurferAsciiMeshIO"],["fsb","FreeSurferBinaryMeshIO"],["FSB","FreeSurferBinaryMeshIO"],["obj","OBJMeshIO"],["OBJ","OBJMeshIO"],["off","OFFMeshIO"],["OFF","OFFMeshIO"],["stl","STLMeshIO"],["STL","STLMeshIO"],["swc","SWCMeshIO"],["SWC","SWCMeshIO"],["iwm","WasmMeshIO"],["iwm.cbor","WasmMeshIO"],["iwm.cbor.zstd","WasmZstdMeshIO"]]),w=["BYUMeshIO","FreeSurferAsciiMeshIO","FreeSurferBinaryMeshIO","OBJMeshIO","OFFMeshIO","STLMeshIO","SWCMeshIO","VTKPolyDataMeshIO","WasmMeshIO","WasmZstdMeshIO"];var v=function(e){return this instanceof v?(this.v=e,this):new v(e)},b=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){a[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=a[e](t)).value instanceof v?Promise.resolve(r.value.v).then(l,c):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function l(e){s("next",e)}function c(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},M=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,a,(t=e[r](t)).done,t.value)}))}}};function S(e){return b(this,arguments,(function*(){for(let t=0;t<w.length;t++){const r=w[t]+"-read-mesh",n=yield v(s(r,e.config.meshIOUrl));yield yield v(n)}}))}const P=async function(e,t){var r,n;if(e.mimeType&&O.has(e.mimeType)){const r=O.get(e.mimeType)+t;return await s(r,e.config.meshIOUrl)}const a=f(e.fileName);if(d.has(a)){const r=d.get(a)+t;return await s(r,e.config.meshIOUrl)}for(let t=0;t<w.length;++t){let t=0;try{for(var o,i=(r=void 0,M(S(e)));!(o=await i.next()).done;){const r=o.value;try{const{returnValue:t,outputs:n}=await(0,I.Z)(r,e.args,e.outputs,e.inputs);if(0===t)return r}catch(e){}t++}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&await n.call(i)}finally{if(r)throw r.error}}}throw Error(`Could not find IO for: ${e.fileName}`)};var F=r(4712),T=r(602),N=r(8155);n((async function(e){let t=null;if("runPipeline"===e.operation){const r=void 0===e.config[e.pipelineBaseUrl]?e.pipelineBaseUrl:e.config[e.pipelineBaseUrl];t=await s(e.pipelinePath,r)}else if("readImage"===e.operation)t=await y(e,"-read-image");else if("writeImage"===e.operation)t=await y(e,"-write-image");else if("readMesh"===e.operation)t=await P(e,"-read-mesh");else if("writeMesh"===e.operation)t=await P(e,"-write-mesh");else if("meshToPolyData"===e.operation)t=await s("mesh-to-polydata",e.config.meshIOUrl);else if("polyDataToMesh"===e.operation)t=await s("polydata-to-mesh",e.config.meshIOUrl);else if("readDICOMImageSeries"===e.operation)t=await s("read-image-dicom-file-series",e.config.imageIOUrl);else{if("readDICOMTags"!==e.operation)throw new Error("Unknown worker operation");t=await s("read-dicom-tags",e.config.imageIOUrl)}return async function(e,t,r,a){const o=(0,I.Z)(e,t,r,a),i=[];return o.outputs&&o.outputs.forEach((function(e){if(e.type===N.Z.BinaryStream||e.type===N.Z.BinaryFile){const t=e.data,r=(0,T.Z)(t);r&&i.push(r)}else if(e.type===N.Z.Image){const t=e.data;let r=(0,T.Z)(t.data);r&&i.push(r),r=(0,T.Z)(t.direction),r&&i.push(r)}else if(e.type===N.Z.Mesh){const t=function(e){const t=[];return null!=e.points&&t.push(e.points.buffer),null!=e.pointData&&t.push(e.pointData.buffer),null!=e.cells&&t.push(e.cells.buffer),null!=e.cellData&&t.push(e.cellData.buffer),t}(e.data);i.push(...t)}else if(e.type===N.Z.PolyData){const t=function(e){const t=[];return null!=e.points&&t.push(e.points.buffer),null!=e.vertices&&t.push(e.vertices.buffer),null!=e.lines&&t.push(e.lines.buffer),null!=e.polygons&&t.push(e.polygons.buffer),null!=e.triangleStrips&&t.push(e.triangleStrips.buffer),null!=e.pointData&&t.push(e.pointData.buffer),null!=e.cellData&&t.push(e.cellData.buffer),t}(e.data);i.push(...t)}else if(e.type===F.Z.Binary){const t=e.data,r=(0,T.Z)(t);r&&i.push(r)}else if(e.type===F.Z.Image){const t=e.data;let r=(0,T.Z)(t.data);r&&i.push(r),r=(0,T.Z)(t.direction),r&&i.push(r)}else if(e.type===F.Z.Mesh){const t=e.data;if(t.points){const e=(0,T.Z)(t.points);e&&i.push(e)}if(t.pointData){const e=(0,T.Z)(t.pointData);e&&i.push(e)}if(t.cells){const e=(0,T.Z)(t.cells);e&&i.push(e)}if(t.cellData){const e=(0,T.Z)(t.cellData);e&&i.push(e)}}})),new n.TransferableResponse(o,i)}(t,e.args,e.outputs,e.inputs)}))}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,a),o.exports}a.m=r,a.x=()=>{var e=a.O(void 0,[480],(()=>a(4236)));return a.O(e)},e=[],a.O=(t,r,n,o)=>{if(!r){var i=1/0;for(f=0;f<e.length;f++){for(var[r,n,o]=e[f],s=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](r[l])))?r.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(f--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var f=e.length;f>0&&e[f-1][2]>o;f--)e[f]=e[f-1];e[f]=[r,n,o]},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[])),a.u=e=>e+".itkVtkViewer.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={236:1};a.f.i=(t,r)=>{e[t]||importScripts(a.p+a.u(t))};var t=self.webpackChunkitk_vtk_viewer=self.webpackChunkitk_vtk_viewer||[],r=t.push.bind(t);t.push=t=>{var[n,o,i]=t;for(var s in o)a.o(o,s)&&(a.m[s]=o[s]);for(i&&i(a);n.length;)e[n.pop()]=1;r(t)}})(),t=a.x,a.x=()=>a.e(480).then(t),a.x()})();
//# sourceMappingURL=236.itkVtkViewer.js.map